<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Quicksand:wght@300..700&display=swap" rel="stylesheet" />
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- My Style -->
    <link rel="stylesheet" href="Serenade.css" />
    <!-- Style Register -->
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
</head>

<body class="Register">
    <!-- NavBar Start -->
    <nav class="navbar">
        <a href="#" class="navbar-logo">Serenade.</a>

        <div class="navbar-nav">
            <a href="Home.html">Home</a>
            <a href="Home.html#about">About</a>
            <a href="FAQ.html">FAQ</a>
        </div>

        <div class="navbar-extra">
            <a href="#" id="hamburger-menu"><i data-feather="menu"></i></a>
        </div>
    </nav>
    <!-- NavBar End -->

    <!-- Register Start -->
    <div class="wrapper">
        <form id="registerForm">
            <h1>Register</h1>
            <div class="input-box">
                <input type="text" id="username" placeholder="Username" required />
                <i class="bx bxs-user"></i>
            </div>
            <div class="input-box">
                <input type="email" id="email" placeholder="Email" required />
                <i class="bx bxs-envelope"></i>
            </div>
            <div class="input-box">
                <input type="password" id="password" placeholder="Password" required />
                <i class="bx bxs-lock-open-alt"></i>
            </div>
            <div class="input-box">
                <input type="password" id="confirmPassword" placeholder="Confirm Password" required />
                <i class="bx bxs-lock-open-alt"></i>
            </div>

            <button type="submit" class="btn" style="background-color: white; border: 1px solid black;">
                Register
            </button>

            <div class="login-link">
                <p>
                    Already have an account?
                    <a href="Login.html">Login</a>
                </p>
            </div>
        </form>
    </div>
    <!-- Register End -->

    <!-- Feather Icons -->
    <script>
        feather.replace();
    </script>

    <!-- JavaScript -->
    <script>
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            // Validasi input
            if (password !== confirmPassword) {
                alert('Kata sandi yang dimasukkan tidak sesuai');
                return;
            }

            // Cek jika pengguna sudah terdaftar
            let users = JSON.parse(localStorage.getItem('users')) || [];
            let userExists = users.some(user => user.username === username || user.email === email);

            if (userExists) {
                alert('Username atau Email sudah terdaftar');
            } else {
                // Simpan data pengguna baru ke localStorage
                users.push({
                    username,
                    email,
                    password
                });
                localStorage.setItem('users', JSON.stringify(users));
                alert('Pendaftaran Anda berhasil! Silakan login untuk melanjutkan');
                window.location.href = 'login.html'; // Arahkan ke halaman login
            }
        });
    </script>

    <!-- My JavaScript -->
    <script src="Serenade.js"></script>
</body>

</html>